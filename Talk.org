# Local IspellDict: en
# SPDX-License-Identifier: GPL-3.0-or-later
# Copyright (C) 2021 Matt Price 
#+TITLE: DH: Maps, Truth, and Data
#+STARTUP: customtime
# #+OPTIONS: toc:nil reveal_width:1400 reveal_height:1000
#+REVEAL_ROOT: ./reveal.js
# Set up the title slide.
# keeping this here for a moment in case I want to use some of the vars
# #+REVEAL_TITLE_SLIDE: <h1>%t</h1><h2>%s</h2><h3>%A %a</h3><p>View online: <a href="%u">%u</a></p><p>This could be the file name in the <code>src</code> attribute of an <code>img</code> element for a QR code: %q
#+REVEAL_TITLE_SLIDE: <h1>%t</h1><h2>%s</h2><h3>%A %a</h3><p>View online: <a href="%u">%u</a></p><p>License: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0<img src="https://img.shields.io/badge/License-CC BY--NC--SA 4.0-lightgrey.svg"/></a>

#+OPTIONS: reveal_fragmentinurl t
# bibliography
#+LATEX_HEADER: \usepackage[backend=biber,style=alphabetic]{biblatex}
#+LATEX_HEADER: \addbibresource{references.bib}

# Configure individual pieces of information.
#+Subtitle: A teaching talk @UTSC HCS
# #+REVEAL_ACADEMIC_TITLE: Dr.
#+REVEAL_TALK_URL: https://utsc-talk.hackinghistory.ca/Talk.html
# #+REVEAL_TALK_QR_CODE: does not exist



* Background/Scene Setting
- about 2/3 of the way through a third-year Digital History class
- students have learned *very* basic web dev skills, including
  - intro to HTML
  - basic CSS
  - extremely basic JavaScript fundamentals & DOM manipulation
  - importantly, they have also learned to use fundamental tools such as [[https://code.visualstudio.com/][the VSCode text editor]] and [[https://nodejs.org/][Nodejs]]
- readings have included some classics in Digital History, as well as historiographical essays, most notably around Habermas's conception of the Public Sphere, as well as "objectivity" as an organizing principle in historical study.
- about to start a block on "Spatial History", which will take about 2 weeks
- in a typical online class I would monitor a Slack channel for communications - I tend to encourage interruptions in this class
* Today
- What is a map?
- Do maps tell the truth?
- How maps became *data* 
- A tiny GIS exercise
- (also, note re: assignments)
* This week's readings
 - Krygier, J., & Wood, Donald, "[[http://ebookcentral.proquest.com/lib/utoronto/detail.action?docID=446595: ][Ce N'est Pas Le Monde]]", In M. Dodge, R. Kitchin, & C. Perkins (Eds.), /Rethinking Maps: New Frontiers in Cartographic Theory/ . (London, UK: Routledge, 2009).
- Daniel Rueck, [[https://books-scholarsportal-info.myaccess.library.utoronto.ca/en/read?id=/ebooks/ebooks3/upress/2014-03-15/1/9781552387443#page=150]["'I do not know the boundaries of this land, but I know the land which I worked': Historical GIS and Mohawk Land."]], in Bonnell & Fortin, /Historical GIS Research in Canada/. (Calgary: University of Calgary Press, 2014)
  #+begin_notes
We'll be talking quite a bit about Rueck's arguments!
  #+end_notes
* What is a map?
** La Carte n'est pas le Monde
:PROPERTIES:
:reveal_extra_attr: class="twoc"
:END:
#+begin_slideblock
#+CAPTION: Magritte's /Treachery of Images/ (1929)
[[https://upload.wikimedia.org/wikipedia/en/b/b9/MagrittePipe.jpg][https://upload.wikimedia.org/wikipedia/en/b/b9/MagrittePipe.jpg]]
#+end_slideblock
#+begin_slideblock
#+CAPTION: Illustration from [[https://ebookcentral-proquest-com.myaccess.library.utoronto.ca/lib/utoronto/detail.action?docID=446595][Krygier, Ce n'est pas le Monde]]
[[file:./Images/cenestpas.png][file:./Images/cenestpas.png]]
#+end_slideblock

** What is a map?
#+ATTR_REVEAL: :frag (none appear)
- "Representation" of a territory and also "Proposition" about it
   - (alternatively, "a picture", and "an argument")
- as historians, we need a "Double Vision":
  - maps as *cultural objects* (i.e., primary sources)
  - maps as *tools for arguing* (i.e., rhetorical methods)
#+ATTR_REVEAL: :frag appear
#+begin_quote
Maps are artifacts that selectively link places to other kinds of things for the purpose of underwriting the reproduction (or contestation) of the social relations of power.  cite:WoodMaps2009
#+end_quote

* Defining By Example
#+begin_quote
Maps... are more readily exemplified than defined. cite:WoodMaps2009
#+end_quote
- let's look at some maps and see how we can relate *function* to *appearance*, and both to *conditions of production*
- that is, let's look at maps *as historical source material*
** A map of space *and* time
:PROPERTIES:
:reveal_extra_attr: class="twoc"
:END:
#+begin_slideblock
#+CAPTION: Map of the world from Higden's [[https://www.bl.uk/collection-items/world-map-by-ranulf-higden][Polychornicon]] (~1400)
[[file:./Images/higden-polychornicon-map.jpg][file:./Images/higden-polychornicon-map.jpg]]
#+end_slideblock

#+begin_slideblock
- taken from a history of the world, written by a Benedictine monk in Chester, England
- note that East is up
- the history of the world (as derived largely from Scripture) flows down from the gates of paradise w/ the  rivers
- space and time *are not distinct axes* in this world
- this map is fundamentally *pedagogical*
#+end_slideblock

#+begin_notes
- surviving maps *come from books*
- but there were definitely other maps, often too big to fit in a book.
- the textual context of maps was /historical/ and /calendrical/
#+end_notes

** A map with a *very specific purpose*
:PROPERTIES:
:CUSTOM_ID: hamburg-3e8e
:reveal_extra_attr: class="twoc"
:END:
#+begin_slideblock
#+CAPTION: Allied War Command map of Hamburg, 1944 ([[https://www.bbc.com/news/uk-34467543][Imperial War Museum via BBC]])
[[https://ichef.bbci.co.uk/news/976/cpsprodpb/1193B/production/_85959917_hamburgfire_976.jpg][https://ichef.bbci.co.uk/news/976/cpsprodpb/1193B/production/_85959917_hamburgfire_976.jpg]]
#+end_slideblock
#+begin_slideblock
#+ATTR_REVEAL: :frag (appear)
- major arteries only (suitable for night navigation)
- Red for flammable, pink for maybe, purple for industry
- great for bombing; maybe not much use for other purposes!
#+end_slideblock

** A map with a *very specific argument*
:PROPERTIES:
:reveal_extra_attr: class="twoc"
:END:
#+begin_slideblock
#+CAPTION: John Snow's 1854 Map of Broad Street, London
[[file:./Images/john-snow-broad-street.jpg][file:./Images/john-snow-broad-street.jpg]]
#+end_slideblock
#+begin_slideblock
#+ATTR_REVEAL: :frag (appear)
- 1854 cholera outbreak
- commonly considered to travel through the air ("miasmatically")
- Snow argues here that it travels through water (around the pump)
- sometimes thought of as the earlist "data map"
#+end_slideblock

** Two Maps to Remake a Territory
:PROPERTIES:
:reveal_extra_attr: class="splitc"
:END:
#+begin_slideblock
- finally, the maps of Kahnawá:ke from Rueck
- note these are reconstructions (we'll come back to that)
- the maps articulate a vision for the exercise of state power
- and at the same time are a tool for making that vision real
#+end_slideblock

#+begin_slideblock
#+CAPTION: Walbank's "existing" lots in Kahnawá:ke community, 1885, via cite:Ruecknotknowboundaries2014  
[[file:./Images/rueck-survey-existing.png][file:./Images/rueck-survey-existing.png]]
#+end_slideblock
#+begin_slideblock
#+CAPTION: Walbank's plan to sell lots & 'enfranchise' the Mohawk
[[file:./Images/rueck-survey-plan.png][file:./Images/rueck-survey-plan.png]]
#+end_slideblock
* About "Truth" in these Maps
:PROPERTIES:
:reveal_extra_attr: class="splitc"
:END:
#+begin_slideblock
#+ATTR_REVEAL: :frag (none appear appear appear)
- remember back to "objectivity"?
  - "truth" is neither simple nor univocal
- visualizing *requires* simplification
  - selection
  - displacement
  - smoothing
  - enhancement
  - aggregation
- simplification *guarantees* non-universality, *and*
  - opens the door to the exercise of power
- in Kahnawá:ke, the Walbank's maps were produced to *enforce a settler conception of land* organized around *individual ownership*.
#+end_slideblock

#+begin_slideblock
#+CAPTION: Walbank's "existing" lots in Kahnawá:ke community, 1885, via cite:Ruecknotknowboundaries2014  
[[file:./Images/rueck-survey-existing.png][file:./Images/rueck-survey-existing.png]]
#+end_slideblock
#+begin_slideblock
#+CAPTION: Walbank's plan to sell lots & 'enfranchise' the Mohawk
[[file:./Images/rueck-survey-plan.png][file:./Images/rueck-survey-plan.png]]
#+end_slideblock

* From Maps in General to Digital Maps
#+ATTR_REVEAL: :frag (none none none appear)
- maps make *arguments*
- maps /intrinsically/ "lie"
- maps *are linked to relations of power*
- *Digital Maps* amplify these issues
  - Digital Maps *write their assumptions into code*. Assumptions are even *less* visible than in paper maps.
  - Linked to data, they are more powerful, and more dangerous, than paper maps
    - (remember: "data" = "structured information pre-digested to permit automated computation")
** "Lies:" Google Hedges its Bets
:PROPERTIES:
:reveal_extra_attr: class="twobytwo"
:END:

#+begin_slideblock
[[./Images/google-india-east-0.gif]]
#+end_slideblock
#+begin_slideblock
[[./Images/google-india-east-1.gif]]
#+end_slideblock
#+begin_slideblock
[[./Images/google-india-east-2.gif]]
#+end_slideblock
#+begin_slideblock
- Boundaries are social & cultural objects
- often they are *largely settled*, as e.g., in the border between US and Canada
- sometimes they are *not quite entirely respected*, as e.g. when your neighbour builds a corner of their garage on your side of the property line
- occasionally they are *hotly contested*
- there are [[https://personalization.ccs.neu.edu/Projects/MapWatch/][interesting]] [[http://metrocosm.com/disputed-territories-map.html][projects]] and even [[https://patents.google.com/patent/US8341192B2/en][patents]] that try to keep track of these disputed borders
#+end_slideblock

** "Lies:" Choropleths
:PROPERTIES:
:reveal_extra_attr: class="twobytwo"
:END:
#+begin_slideblock
[[./Images/to-income-choro-nat-brk.png]]
#+end_slideblock
#+ATTR_REVEAL: :frag appear
#+begin_slideblock
[[./Images/to-income-choro-eql-intvl.png]]
#+end_slideblock

#+ATTR_REVEAL: :frag appear
#+begin_slideblock
[[./Images/to-income-choro-quantile.png]]
#+end_slideblock

#+ATTR_REVEAL: :frag appear
#+begin_slideblock
[[./Images/to-income-choro-std.png]]
#+end_slideblock

* Indigenous Land Practices & and the Map Problem
:PROPERTIES:
:reveal_extra_attr: class="splitc"
:END:
#+begin_slideblock
#+ATTR_REVEAL: :frag (appear) :frag_idx (1 2 3 4)
- "ownership" is neither *self-evident* nor *universal*
- in indigenous land practices, *rights to land* were context-dependent and overlapping; hunting rights, farming rights, rights to the use of trees, rights to passage, had distinct referents
- map's like Alexander's (right) have been imposing European property systems on land for 400 years!
  - doctrine of discovery
  - racial theories
  - economic extraction
  - relations of dependence
- our GIS systems are not built to accommodate other systems!
  - so we have to tweak them
#+end_slideblock
#+ATTR_REVEAL: :frag appear :frag_idx 3
#+begin_slideblock
# #+ATTR_REVEAL: :frag appear :frag_idx 1 :class fade-out
# #+CAPTION: Walbank's "existing" lots in Kahnawá:ke community, 1885, via cite:Ruecknotknowboundaries2014  
# [[file:./Images/rueck-survey-existing.png][file:./Images/rueck-survey-existing.png]]

#+ATTR_REVEAL: :frag appear :frag_idx 3
#+CAPTION: Colonist's map of Atlantic coast, 1624, from cite:Stirlingencouragementcolonies1624
[[file:./Images/alexander-new-englande-1624.png][file:./Images/alexander-new-englande-1624.png]]
#+end_slideblock

#+ATTR_REVEAL: :frag appear :frag_idx 4
#+begin_slideblock
#+CAPTION: Indigenous Tkaronto, by Jon Johnson (2021)
[[file:Images/jon-johnson-tkaronto.jpg][file:./Images/jon-johnson-tkaronto.jpg]]
#+end_slideblock

* GIS: data-centric maps
:PROPERTIES:
:CUSTOM_ID: what-is-a-gis?-12ec
:reveal_extra_attr: class="twoc"
:END:

#+begin_slideblock

https://web.archive.org/web/20190105210746/http://iolandarch.com/wp-content/uploads/2014/09/overlay-analysis.jpg

#+end_slideblock

#+begin_slideblock

- all data is "geo-tagged" (has location info = latitude-longitude co-ords)
- layered data (like photoshop)
  - "layering" a non-trivial taxonomic decision
  - usually "baselayer" + "data layers" 
- managed by a database, often quite complex, sophisticated
#+end_slideblock

#+BEGIN_NOTES 
GIS is just a name for any system that tries to capture, manipulate, and represent geographical data. There are many GIS tools; the history department uses [[http://www.arcgis.com/features/][ArcGIS]], which is expensive and something of an industry standard, while many independent scholars use [[http://www.qgis.org/en/site/][QGIS]], which is free, open source, and not quite as powerful as Arc.

The data in a GIS is all [[https://en.wikipedia.org/wiki/Geotagging][geotagged]], that is, assigned a set of geographical co-ordinates. This sounds simple but it is actually quite complex, since any co-ordinate system is a /simplified projection/ of real, disordered, 3-dimensional space.  Many of the frustrations of working with GIS comes from the difficulty of rendering (say) historical map images /commensurate/ with modern, satellite-derived maps.

Within a GIS, information is generally accessed as a set of *layers*.  Data of specific types is /stratified/ in layers, in much the same way that one creates image layers in photoshop. This image gives a typical example.  Note that the creation of layers is itself an intellectual decision, relying on judgments about the relationships between individual bits of data.
#+END_NOTES

** Point and Area Overlays
:PROPERTIES:
:reveal_extra_attr: class="splitc"
:END:
#+begin_slideblock
[[file:Images/point-overlay-sid-smith.png]]
#+end_slideblock
#+begin_slideblock
[[file:Images/ontario-county-map-zoomed.jpg]]
#+end_slideblock

#+begin_slideblock
[[file:Images/ontario-county-map-trinity.png]]
#+end_slideblock

*** Raster Images
:PROPERTIES:
:reveal_extra_attr: class="splitc"
:END:
#+begin_slideblock

- area overlays are generally *raster* images with *color value defined for every point* (some other layers will be *vector* images, e.g. lines & shapes, and sometimes marker icons)
- Most *baselayers* are rasters (though terrain images can be vectors)
  - baselayers are also almost always *tiled*. (Why?)

#+end_slideblock

#+begin_slideblock
#+CAPTION: Google Maps Satellite Capture showing Tile borders
[[file:Images/google-maps-satellite.jpg]]
#+end_slideblock


#+begin_slideblock
#+CAPTION: Georeferenced Historical Map as raster layer (via [[https://www.davidrumsey.com/home][Rumsey Collection]])
[[file:Images/rumsey-map-overlay.jpg]]
#+end_slideblock

#+begin_notes
- note distortion, border. 
#+end_notes
* GIS Frameworks
- all online maps rely on very large datasets. Impractical to build your own from scratch
- Corporate Players:
  - [[https://www.google.com/maps][Google Maps]]
  - [[https://maps.arcgis.com/index.html][ArcGIS Online]]
  - [[https://www.mapbox.com/][Mapbox]]
- we use [[https://leafletjs.com/][Leaflet Maps]], an open-source JavaScript mapping framework
- Remember: Incantations and Exhortations

** Using Leaflet

#+ATTR_REVEAL: :frag (appear appear appear appear) :frag_idx (1 2 3 4)
- first, load Leaflet libraries in ~index.html~
- then, "instantiate" the Leaflet Map Object in maps-setup.js
- then... do a whole lot of work!
- let's [[https://utsc-exercise.hackinghistory.ca/spatial-history/][take a sneak peek at the live demo]] and then look at [[https://github.com/titaniumbones/UTSC-map-exercise][the repository]]
#+ATTR_REVEAL: :frag appear :frag_idx 1
#+BEGIN_SRC html
<!-- Leaflet Libraries! CSS first -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""/>
<!-- Leaflet also requires JS -->
<!-- Must be loaded AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
#+END_SRC
#+ATTR_REVEAL: :frag appear :frag_idx 2
#+begin_src js
    const map = L.map(element, {renderer:L.canvas(), preferCanvas: true}).setView(myCenter, myZoom);
#+end_src
* Bibliography
:PROPERTIES:
:CUSTOM_ID: bibliography
:END:

[[bibliography:~/MappingCourse/MapsandCartography.bib]]
printbibliography:~/Mappingcourse/MapsandCartography.bib
